# 罗子初 H2 晋升演讲稿

## 开场白

各位评审老师下午好，我是来自虚拟生态技术部unity组的罗子初，主要负责面捕在unity中的相关工作。今天我向大家汇报我的近段时间的工作内容。

## 工作内容概述

我将从以下两个大方面介绍我的工作成果:
1. 技术基建
2. 业务支持

### 一、技术基建

技术基建由三个核心部分组成:
- 表情算法
- MLive下载框架  
- 通用面捕数据协议

#### 1. 表情算法

##### 背景
- 公司需要开发3D虚拟人直播
- 面捕是虚拟直播最重要的模块
- 经调研选择MediaPipe作为自研引擎(优势:兼顾动捕面捕、支持多端)

##### 面捕流程
分为三个部分:
1. Mediapipe引擎处理
2. 面捕解算器
3. 模型驱动

##### 技术难点及解决方案
**难点一: 头部旋转推导**
- 通过关键点位推算头部旋转
- 需要将模型localRotation矩阵影身到worldRotaiton矩阵

**难点二: BS推导**
- 问题:Mediapipe只提供478个坐标,无表情数据和头部坐标
- 解决方案:以眨眼为例
  1. 获取mediapipe关键点位
  2. 通过眨眼函数处理
  3. 使用分段函数优化
  4. 应用滤波器
  5. 通过lerp函数处理
  6. 输出稳定的blendshape值

##### 成果
- 已在A级项目落地(3D虚拟开播、Z-star)
- PC端稳定运行5个月
- 移动端已上线1个月
- 专利申请审核中

#### 2. MLive下载框架

##### 背景
虚拟3D项目需要动态下发模式,将模型集成到客户端

##### 实现流程
1. 鉴权
2. 请求下载列表信息
3. 校验本地更新
4. 比对本地缓存
5. 请求模型下载信息
6. 下载并校验完整性

##### 核心功能
- 多模型下载
- 缓存更新
- 解决UnityWebRequest无响应问题

##### 时序流程
1. **获取cookie**
   - 用户登录直播姬
   - 服务器下发cookie
   - 虚拟姬获取cookie

2. **获取资源列表**
   - 请求官方模型资源列表
   - 后台鉴权和版本筛选
   - 更新本地缓存

3. **下载模型资源**
   - 请求下载信息
   - 获取下载地址和MD5
   - 下载并校验完整性

##### 成果
- 已在Zstar和虚拟3D上线使用
- 运行5个月无bug反馈
- 专利申请审核中

#### 3. 通用面捕数据协议

##### 背景
- 市面常用:苹果ARkit协议和VRM协议
- 存在兼容性问题
- 美术需要制作双套blendshape

##### 解决方案
设计CompatibaleFaceData:
- 包含特殊表情数据结构
- 支持ARkit数据结构
- 支持VRM数据结构
- 提供协议互转功能

### 二、业务支持与保障

#### 已完成项目
1. PC端虚拟3D面捕
2. PC端ZSTART面捕
3. 小K面捕
4. 移动端虚拟3D/2D面捕
5. 虚拟摄像头
6. 面捕引擎与驱动框架
7. 基础BS推导特殊表情

## 展望

### 技术迭代方向
1. **自研面部算法**
   - 扩展BS数量(15个→52个)
   - 优化滤波器性能

2. **MLive下载框架**
   - 添加断点续传功能

3. **面捕数据协议**
   - 制定公司统一BS协议标准

## 总结

1. **技术架构**
   - 满足长远业务需求
   - 保证核心技术指标
   - 支撑业务创新

2. **业务价值**
   - 高效沟通执行
   - 创造实际价值

感谢公司和部门提供的平台与机会,让我在虚拟直播与面捕领域取得进步。
