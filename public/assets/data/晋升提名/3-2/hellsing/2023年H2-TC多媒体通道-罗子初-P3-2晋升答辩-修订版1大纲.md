# 晋升答辩
- 2022入B站
- 专修虚拟人赛道

## 主要成果
- 业务为切入点，每次转型逻辑讲顺，核心挑战是性能优化，
- 2D虚拟姬开播实现了全年用户从5000人到1.8w人的增长。
- 用户虚拟形象1.5 截止8个月，实现1550W营收
- 用户虚拟形象2.0 性能优化 效果媲美Unity引擎，实现低端机从11fps稳定在30fps
  
## 为什么做？
- 为什么做面捕升级？为什么做云日志分析系统？
  - 面捕效果一般，第三方效果不能定制化升级，降本增效
  - 提高用户体验，缩短客服-产品-开发-用户的沟通成本
- 为什么做3D Unity虚拟人？
  - 2D用户增长瓶颈，需要寻求破圈，达到更高的业务营收
  - 用Unity因为更熟悉和了解.
- 为什么做虚拟形象1.5？为什么用web？
  - 实现轻量级渲染，进粉
- 为什么做虚拟形象2.0？
  - 小电视形象不满足主播高度自定义需求
  - 人形虚拟形象，玩法自由度更高

## 遇到挑战 - 什么原因导致升级，什么原因导致业务增长
- 虚拟2D开播面捕升级 
  - 解决了面捕效果左右眼失效，点云识别率更高.
- Unity虚拟人Demo的问题？ - 包体瘦身，怎么做的？
  - Unity分析工具
- 用户虚拟形象1.5性能优化 -  不优化不行吗，不优化用户覆盖率会减少多少，营收会减少多少
  - 移动端3D webgl渲染能力对齐Unity渲染效果
  - 机型分级策略【以CPU评分作为主要分级依据】 + 模型加载优化【贴图使用 KTX2 压缩纹理，加快用户解压、加载速度+模型使用GLB（GLTF）格式，使用Draco压缩算法对网格数据进行压缩】
- 用户虚拟形象2.0性能优化 - 为什么2.0还需要优化，因为1.5是简单的小电视
  - 解决了什么性能问题？- 人形虚拟形象的能力更大更复杂，有捏脸系统，换装系统，妆容系统，骨骼动画系统。性能开销指数级上升 低端机11fps
  - google devtools分析工具，查看峰值帧，查看每帧主要耗时，挑选性价比更高的来优化
  - 解决了vuejs+threejs性能问题，每帧大约可以节省 20ms
  - 动画优化把BS动画改为骨骼动画，矩阵运算， 去除动画中大量无用的 Track，动画消耗的帧耗时从 4ms 降低为 0.2ms
  - threejs mv pass即Motion Vector内存泄漏，animation mixer
  

## 杂点
- 用户虚拟形象1.5技术选型和兼容性测试，压力测试
  - 技术选型，对比了laya-cocos-threejs-巴比龙，最后选择了three.js，为什么？
  - 压测流程-主要使用跨晚特效弹幕或者拜年祭流量回放进行测试
  - 压测指标 - 主要从稳定性、CPU占用、内存占用、FPS、温度等多个指标评价，并据此调整分级策略
  - 数据测试良好

## 自我评估
- 专职于虚拟人技术赛道，不拘泥于渲染引擎
- 